set shell := ["bash", "-lc"]
set dotenv-load := true

# Launch the minimal stage-based Streamlit demo.
stage:
	uv run streamlit run streamlit_stage_app.py

# Launch the minimal Chainlit chat demo.
chat:
	uv run chainlit run chatlit_app.py -w --port 8001

# Start both demos plus the backend for quick tinkering.
stack:
	#!/usr/bin/env bash
	trap 'kill $(jobs -p)' INT TERM EXIT
	PYTHONPATH=.. uv run uvicorn app:app --reload &
	uv run streamlit run streamlit_stage_app.py &
	uv run chainlit run chatlit_app.py -w --port 8001 &
	wait
